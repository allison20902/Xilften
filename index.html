<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Xilften</title>
    <!-- Inclui Tailwind CSS para um estilo rápido e responsivo -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* VARIÁVEIS CSS para fácil personalização */
        :root {
            --cor-bg-dark: #000;
            --cor-text-dark: #fff;
            --cor-accent: #e50914; /* Vermelho Netflix */
            --cor-accent-hover: #b20710; /* Vermelho mais escuro no hover */
            --cor-accent-disabled: #770000;
            --cor-header-bg: #1a1a1a; /* Cinza escuro para o cabeçalho */
            font-size: 16px; /* Base para 1rem, ajustada em media queries */
        }

        /* ESTILOS GLOBAIS E RESETS */
        html, body {
            height: 100%; /* Garante que html e body ocupem a altura total */
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', Arial, sans-serif; /* Usando Inter para um visual moderno */
        }
        body {
            background-color: var(--cor-bg-dark); /* Fundo padrão do body é preto */
            color: var(--cor-text-dark);
            overflow-y: auto; /* Permite rolagem no body */
            min-height: 100vh;
            display: flex;
            flex-direction: column; /* Para que as telas principais se empilhem */
            justify-content: flex-start; /* Alinha ao topo */
            align-items: center;
            position: relative; /* Contexto para elementos fixos se necessário */
            width: 100vw;
        }

        /* CLASSES PARA CONTROLE DE TELAS PRINCIPAIS */
        .tela-principal {
            width: 100vw; /* Ocupa a largura total */
            min-height: 100vh; /* Ocupa no mínimo a altura da viewport */
            display: none; /* Escondido por padrão */
            flex-direction: column;
            justify-content: flex-start; /* Alinha ao topo */
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.8s ease-in-out;
        }

        .tela-principal.ativa {
            display: flex;
            opacity: 1;
            pointer-events: auto;
        }

        /* TELA DE LOGIN */
        #telaLogin {
            background: url('https://wallpapers.com/images/hd/american-movie-posters-z0puq43u0qbtr6j2.webp') no-repeat center center;
            background-size: cover;
            background-color: #1a1a1a; /* Cor de fundo fallback para tela de login */
            z-index: 100;
            justify-content: center; /* Centraliza o loginBox */
        }

        #loginBox {
            background-color: rgba(0, 0, 0, 0.85);
            padding: 1.5rem 2rem; /* Reduzido para ser menor */
            border-radius: 0.625rem; /* 10px */
            min-width: 18rem; /* Reduzido */
            box-shadow: 0 0 0.9375rem 0.1875rem var(--cor-accent); /* 15px 3px */
            user-select: none;
            text-align: center;
        }

        #loginBox h1 {
            font-size: 3.75rem; /* 60px */
            margin-bottom: 1.25rem; /* 20px */
            font-weight: bold;
            color: var(--cor-accent);
            user-select: none;
        }

        .campo {
            margin: 0.75rem auto; /* 12px */
            width: fit-content;
        }
        input[type="text"], input[type="password"] {
            padding: 0.625rem; /* 10px */
            width: 12.5rem; /* Reduzido para caber melhor na caixa menor */
            border: none;
            border-radius: 0.3125rem; /* 5px */
            font-size: 1rem; /* 16px */
            outline-offset: 0.125rem; /* 2px */
            outline-color: var(--cor-accent);
            background-color: #222;
            color: white;
            min-height: 2.5rem; /* Altura mínima para toque */
        }
        input[type="text"]:focus, input[type="password"]:focus {
            outline-color: #ff4444;
        }

        #btnEntrar {
            display: block;
            width: 100%;
            padding: 0.625rem 1.875rem; /* 10px 30px */
            background-color: var(--cor-accent);
            color: white;
            font-size: 1rem; /* 16px */
            border: none;
            border-radius: 0.3125rem; /* 5px */
            margin-top: 1.5625rem; /* 25px */
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: background-color 0.3s ease;
            user-select: none;
            min-height: 3rem; /* Altura mínima para toque */
        }
        #btnEntrar:hover:not(:disabled) {
            background-color: var(--cor-accent-hover);
        }
        #btnEntrar:disabled {
            background-color: var(--cor-accent-disabled);
            cursor: default;
        }

        .erro, .modal-erro {
            color: #ff4444;
            margin-top: 0.625rem; /* 10px */
            min-height: 1.25rem; /* 20px */
            font-weight: bold;
            font-size: 0.875rem; /* 14px */
            user-select: none;
        }

        /* TELA DE PERFIS */
        #telaPerfis {
            background-color: var(--cor-bg-dark); /* Fundo PRETO */
            z-index: 90;
            justify-content: center; /* Centraliza o containerPerfis */
        }

        #containerPerfis {
            display: flex;
            gap: 1.875rem; /* 30px */
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 1.875rem; /* 30px */
            background-color: rgba(0, 0, 0, 0.6);
            padding: 1.25rem; /* 20px */
            border-radius: 0.625rem; /* 10px */
            max-width: 60rem; /* 960px */
            box-sizing: border-box;
            user-select: none;
        }

        .perfil {
            position: relative;
            text-align: center;
            cursor: pointer;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
            border-radius: 0.75rem; /* 12px */
            padding: 0.3125rem; /* 5px */
            user-select: none;
        }
        .perfil:hover {
            transform: scale(1.1);
            box-shadow: 0 0 0.9375rem 0.1875rem var(--cor-accent); /* 15px 3px */
        }

        .perfil-img {
            width: 7.5rem; /* 120px */
            height: 7.5rem; /* 120px */
            object-fit: cover;
            border-radius: 50%;
            border: 0.1875rem solid var(--cor-accent); /* 3px */
            display: block;
            margin: 0 auto;
            user-select: none;
        }

        .perfil span {
            display: block;
            margin-top: 0.625rem; /* 10px */
            font-weight: bold;
            color: white;
            white-space: nowrap;
            user-select: none;
        }

        .perfil.adicionar {
            font-size: 3.75rem; /* 60px */
            color: white;
            width: 7.5rem; /* 120px */
            height: 7.5rem; /* 120px */
            border-radius: 50%;
            border: 0.125rem dashed #ccc; /* 2px */
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s ease, transform 0.3s ease;
            user-select: none;
        }
        .perfil.adicionar:hover {
            background-color: #333;
            transform: scale(1.1);
        }

        #telaPerfis button {
            background-color: var(--cor-accent);
            color: white;
            padding: 0.625rem 1.875rem; /* 10px 30px */
            border-radius: 0.3125rem; /* 5px */
            border: none;
            cursor: pointer;
            font-size: 1rem; /* 16px */
            margin-top: 1.875rem; /* 30px */
            transition: background-color 0.3s ease;
            min-height: 3rem; /* Altura mínima para toque */
        }
        #telaPerfis button:hover {
            background-color: var(--cor-accent-hover);
        }


        /* MODAL */
        #modalFundo {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 110;
            user-select: none;
            animation: fadeIn 0.3s ease forwards;
        }
        #modalFundo.ativo {
            display: flex;
        }

        #modal {
            background: #111;
            padding: 1.875rem; /* 30px */
            border-radius: 0.625rem; /* 10px */
            text-align: center;
            min-width: 18.75rem; /* 300px */
            box-shadow: 0 0 1.25rem 0.1875rem var(--cor-accent); /* 20px 3px */
            animation: slideDown 0.3s ease forwards;
            user-select: none;
            position: relative;
        }

        #modal h2 {
            margin-bottom: 1.25rem; /* 20px */
            user-select: none;
        }
        #modal input[type="text"], #modal input[type="file"] {
            padding: 0.5rem; /* 8px */
            width: 90%;
            border: none;
            border-radius: 0.3125rem; /* 5px */
            font-size: 0.9375rem; /* 15px */
            outline-offset: 0.125rem; /* 2px */
            outline-color: var(--cor-accent);
            background-color: #222;
            color: white;
            margin: 0.625rem 0; /* 10px */
            min-height: 2.5rem; /* Altura mínima para toque */
        }
        input[type="text"]:focus, input[type="file"]:focus {
            outline-color: #ff4444;
        }

        #modal button {
            background-color: var(--cor-accent);
            color: white;
            padding: 0.5rem 1.25rem; /* 8px 20px */
            border: none;
            border-radius: 0.3125rem; /* 5px */
            margin: 0.5rem 0.625rem 0 0.625rem; /* 8px 10px 0 10px */
            cursor: pointer;
            transition: background-color 0.3s ease;
            user-select: none;
            min-height: 2.5rem; /* Altura mínima para toque */
        }
        #modal button:hover {
            background-color: var(--cor-accent-hover);
        }
        #modal button:disabled {
            background-color: var(--cor-accent-disabled);
            cursor: default;
        }

        /* ÍCONES DE EDIÇÃO/EXCLUSÃO DE PERFIL */
        .editar-icon, .excluir-icon {
            position: absolute;
            top: 0.3125rem; /* 5px */
            background-color: rgba(255, 0, 0, 0.6);
            border-radius: 50%;
            width: 1.375rem; /* 22px */
            height: 1.375rem; /* 22px */
            color: white;
            font-size: 1rem; /* 16px */
            line-height: 1.375rem; /* 22px */
            text-align: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s ease;
            user-select: none;
            z-index: 2;
            min-width: 1.875rem; /* 30px */ /* Aumentado para toque */
            min-height: 1.875rem; /* 30px */ /* Aumentado para toque */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .editar-icon { right: 0.3125rem; /* 5px */ }
        .excluir-icon { left: 0.3125rem; /* 5px */ background-color: rgba(255, 0, 0, 0.7); }
        .perfil:hover .editar-icon, .perfil:hover .excluir-icon { opacity: 0.7; }
        .editar-icon:hover, .excluir-icon:hover { opacity: 1; }

        /* TELA DE PERFIL SELECIONADO (Não mais usada na navegação principal) */
        #perfilSelecionado {
            display: none;
        }

        /* ESTILOS DO SITE PRINCIPAL */
        #sitePrincipal {
            background-color: var(--cor-bg-dark); /* Fundo do site é preto */
            z-index: 70;
            align-items: flex-start; /* Alinha o conteúdo ao topo */
            padding: 0;
            /* Removido min-height e overflow-y para que o body gerencie */
            position: relative; /* Essencial para o sticky funcionar dentro dela */
            width: 100%; /* Ocupa a largura total */
            flex-grow: 1; /* Permite que ocupe o espaço restante em uma coluna flex */
        }
        /* Removido scrollbar-width e -ms-overflow-style de #sitePrincipal */
        /* Removido ::-webkit-scrollbar de #sitePrincipal */


        /* HEADER DO SITE (Fixo no topo) */
        #sitePrincipal .header-site {
            background-color: var(--cor-header-bg); /* Cinza escuro para o header */
            display: flex;
            align-items: center;
            padding: 0.9375rem 1.875rem; /* 15px 30px */
            position: sticky; /* Torna o header fixo no topo */
            top: 0;
            width: 100%;
            z-index: 50; /* Z-index para o header */
            box-shadow: 0 0.125rem 0.625rem rgba(0, 0, 0, 0.5); /* 0 2px 10px */
            height: 3.75rem; /* 60px */
            justify-content: space-between; /* Distribui os itens horizontalmente */
        }

        #sitePrincipal .header-site .logo {
            color: var(--cor-accent);
            font-size: 2rem; /* 32px */
            font-weight: bold;
            margin-right: 1.875rem; /* 30px */
            letter-spacing: 0.0625rem; /* 1px */
            flex-shrink: 0; /* Impede que o logo encolha */
        }

        #sitePrincipal .header-site nav {
            display: flex;
            gap: 1.5625rem; /* 25px */
            align-items: center;
            margin-right: auto; /* Empurra a navegação para a esquerda */
            flex-grow: 1; /* Permite que a navegação ocupe espaço */
            flex-wrap: wrap; /* Permite que os itens da navegação quebrem a linha */
        }

        #sitePrincipal .header-site nav button {
            background: none;
            border: none;
            color: white;
            font-size: 1rem; /* 16px */
            font-weight: 600;
            cursor: pointer;
            transition: color 0.2s ease;
            padding: 0.3125rem 0; /* 5px */
            min-height: 2.5rem; /* Altura mínima para toque */
        }
        #sitePrincipal .header-site nav button:hover {
            color: #ddd;
        }
        
        /* Menu suspenso de Gênero */
        .genre-button {
            position: relative; /* Para posicionar o dropdown */
        }
        .genre-dropdown {
            display: none; /* Controlled via JS */
            position: absolute;
            top: calc(100% + 0.3125rem); /* Abaixo do botão Gênero (5px) */
            left: 0;
            background-color: rgba(0, 0, 0, 0.85); /* Fundo preto borrado e transparente */
            backdrop-filter: blur(0.5rem); /* Efeito blur (8px) */
            border-radius: 0.25rem;
            padding: 0.5rem 0;
            z-index: 1000; /* Muito alto para garantir que ele apareça sobre tudo */
            white-space: nowrap;
            min-width: 10rem; /* 160px */
            box-shadow: 0 0.25rem 0.5rem rgba(0,0,0,0.7); /* 0 4px 8px */
            max-height: 18.75rem; /* 300px */
            overflow-y: scroll;
            scrollbar-width: none;
            -ms-overflow-style: none;
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
        }
        .genre-dropdown::-webkit-scrollbar {
            display: none;
        }

        .genre-dropdown button {
            display: block;
            width: 100%;
            text-align: left;
            padding: 0.5rem 1.5rem;
            color: white;
            font-weight: normal;
            background: none;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s ease, color 0.2s ease;
            min-height: 2.5rem; /* Altura mínima para toque */
        }
        .genre-dropdown button:hover {
            background-color: rgba(255,255,255,0.15); /* Fundo cinza um pouco mais claro no hover */
            color: white;
        }
        .genre-dropdown button:active {
            background-color: var(--cor-accent);
            color: white;
        }


        #sitePrincipal .header-site .search-profile-area {
            display: flex;
            align-items: center;
            gap: 0.9375rem; /* 15px */
            margin-left: auto; /* Empurra para a direita */
        }
        #sitePrincipal .header-site #searchInput {
            background-color: rgba(255, 255, 255, 0.2);
            border: 0.125rem solid var(--cor-accent); /* Borda vermelha */
            padding: 0.5rem 0.75rem; /* 8px 12px */
            border-radius: 0.25rem; /* 4px */
            color: white;
            font-size: 0.9375rem; /* 15px */
            outline: none;
            width: 9.375rem; /* 150px - Diminuído */
            transition: background-color 0.3s ease, border-color 0.3s ease;
            min-height: 2.5rem; /* Altura mínima para toque */
        }
        #sitePrincipal .header-site #searchInput::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        #sitePrincipal .header-site #searchInput:focus {
            background-color: rgba(255, 255, 255, 0.3);
            border-color: #ff4444; /* Cor da borda ao focar */
        }

        #profileIcon {
            width: 2rem; /* 32px */
            height: 2rem; /* 32px */
            border-radius: 50%;
            background-color: var(--cor-accent);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            object-fit: cover;
            border: 0.125rem solid white; /* 2px */
            overflow: hidden;
            min-width: 2.5rem; /* 40px */ /* Aumentado para toque */
            min-height: 2.5rem; /* 40px */ /* Aumentado para toque */
            /* margin-left: 0.9375rem; Removido para colar no canto */
        }
        #profileIcon img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }

        /* MAIN CONTENT DO SITE */
        #main-site-content {
            padding: 1.875rem; /* 30px */
            width: 100%;
            max-width: 87.5rem; /* 1400px */
            margin: 0 auto;
            overflow-y: hidden; /* O main-site-content não deve rolar, o #sitePrincipal rola */
            flex-grow: 1; /* Permite que o main ocupe o espaço restante em uma coluna flex */
            padding-bottom: 5rem; /* Adicionado padding extra na parte inferior */
        }

        /* Seções de conteúdo dentro do main-site-content */
        .content-section {
            display: none; /* Escondido por padrão, controlado por JS */
            width: 100%; /* Garante que a seção ocupe a largura total */
            /* Removido min-height fixo, o conteúdo irá ditar a altura */
        }
        .content-section.active {
            display: block; /* A seção ativa é exibida */
        }


        #main-site-content h2 {
            color: white;
            font-size: 1.75rem; /* 28px */
            font-weight: bold;
            margin-bottom: 1.5625rem; /* 25px */
            text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7); /* 2px 2px 4px */
        }
        
        /* Carrossel de Filmes/Séries */
        .movie-carousel-wrapper {
            position: relative;
            margin-bottom: 2.5rem; /* Espaçamento entre os carrosséis */
        }

        .movie-grid {
            display: flex; /* Alterado para flex para rolagem horizontal */
            overflow-x: auto; /* Permite rolagem horizontal */
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch; /* Melhor rolagem em dispositivos touch */
            padding-bottom: 1rem; /* Espaço para a scrollbar invisível */
            gap: 1.875rem; /* 30px */
            scrollbar-width: none; /* Oculta a barra de rolagem no Firefox */
            -ms-overflow-style: none;  /* Oculta a barra de rolagem no IE/Edge */
        }

        .movie-grid::-webkit-scrollbar {
            display: none; /* Oculta a barra de rolagem no Chrome/Safari */
        }

        .movie-card {
            background-color: #1a1a1a;
            border-radius: 0.5rem; /* 8px */
            overflow: hidden;
            box-shadow: 0 0.25rem 0.625rem rgba(0, 0, 0, 0.5); /* 0 4px 10px */
            text-align: left;
            cursor: pointer;
            position: relative;
            transition: transform 0.2s ease;
            flex-shrink: 0; /* Impede que os cards encolham */
            width: 10rem; /* Aumentado de 8rem para 10rem */
        }
        .movie-card:hover {
            transform: scale(1.05);
        }

        .movie-card img {
            width: 100%;
            height: 15rem; /* Proporcional a 10rem de largura (10 * 1.5 = 15) */
            object-fit: cover;
            display: block;
        }

        .movie-card h3 {
            font-size: 1.2em;
            margin: 0.625rem 0.625rem 0.3125rem; /* 10px 10px 5px */
            color: white;
            font-weight: 600;
        }

        .movie-card p {
            font-size: 0.9em;
            color: #bbb;
            margin: 0 0.625rem 0.625rem; /* 0 10px 10px */
            line-height: 1.4;
        }

        .favorito-btn {
            position: absolute;
            top: 0.625rem; /* 10px */
            right: 0.625rem; /* 10px */
            background-color: rgba(0,0,0,0.7);
            padding: 0.4rem;
            border-radius: 50%;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s;
            color: white;
            font-size: 1.2em;
            line-height: 1;
            width: 1.875rem; /* 30px */
            height: 1.875rem; /* 30px */
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 5;
        }
        .movie-card:hover .favorito-btn {
            opacity: 1;
        }
        /* Cor da estrela favorita */
        .favorito-btn span.favorited {
            color: yellow;
        }
        /* Cor da estrela não favorita */
        .favorito-btn span.not-favorited {
            color: rgba(255, 255, 255, 0.6);
        }

        .scroll-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 1.5rem 0.5rem; /* Ajustado para área de clique maior */
            font-size: 2rem;
            cursor: pointer;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s, background-color 0.3s;
            height: 100%; /* Ocupa a altura total do carrossel */
            display: flex;
            align-items: center;
        }

        .movie-carousel-wrapper:hover .scroll-arrow {
            opacity: 1;
        }

        .scroll-arrow:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }

        .scroll-left {
            left: 0;
            border-top-left-radius: 0.5rem;
            border-bottom-left-radius: 0.5rem;
        }

        .scroll-right {
            right: 0;
            border-top-right-radius: 0.5rem;
            border-bottom-right-radius: 0.5rem;
        }

        /* OVERLAY/MODAL DE DETALHES/PLAYER */
        /* Overlays: Controlados por opacity e visibility para transições mais suaves e evitar problemas de clique. */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(0.625rem); /* 10px */
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden; /* Inicialmente escondido, mas ocupa espaço para transição */
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .details-content, .player-content, #episodiosContent {
            background-color: rgba(26, 26, 26, 0.95);
            padding: 1.875rem; /* 30px */
            border-radius: 0.75rem; /* 12px */
            max-width: 56.25rem; /* 900px */
            width: 90%;
            box-shadow: 0 0 1.25rem rgba(0, 0, 0, 0.7); /* 20px */
            overflow-y: auto;
            max-height: 90vh;
            position: relative;
            scrollbar-width: none;
            -ms-overflow-style: none;
            transform: translateY(1.25rem); /* Para animação de entrada (20px) */
            opacity: 0; /* Para animação de entrada */
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }
        .overlay.active .details-content,
        .overlay.active .player-content,
        .overlay.active #episodiosContent {
            transform: translateY(0);
            opacity: 1;
        }

        .details-content::-webkit-scrollbar,
        .player-content::-webkit-scrollbar,
        #episodiosContent::-webkit-scrollbar {
            display: none;
        }
        
        .details-content iframe,
        .player-content iframe {
            border: none;
            border-radius: 0.5rem; /* 8px */
            box-shadow: 0 0 0.625rem rgba(0,0,0,0.5); /* 10px */
            width: 100%;
            aspect-ratio: 16 / 9; /* Garante proporção de vídeo */
            display: block;
        }
        
        .details-content h2, #episodiosContent h2 {
            font-size: 2.2em;
            font-weight: bold;
            color: white;
            margin-top: 0.9375rem; /* 15px */
            margin-bottom: 0.625rem; /* 10px */
            text-align: center; /* Centraliza o título dos episódios */
            text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7); /* 2px 2px 4px */
        }
        .details-content p {
            font-size: 1em;
            color: #ccc;
            line-height: 1.5;
            margin-bottom: 0.625rem; /* 10px */
        }
        .details-content .meta-info {
            font-size: 0.9em;
            color: #aaa;
            margin-bottom: 1.25rem; /* 20px */
        }

        /* Botão Fechar em todos os overlays */
        .close-button { /* Aplica a todos os close-button */
            position: absolute;
            top: 0.9375rem; /* 15px */
            right: 0.9375rem; /* 15px */
            background-color: var(--cor-accent);
            color: white;
            border: none;
            border-radius: 50%;
            width: 1.875rem; /* 30px */
            height: 1.875rem; /* 30px */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.2s ease;
            z-index: 1002;
            min-width: 2.5rem; /* 40px */ /* Aumentado para toque */
            min-height: 2.5rem; /* 40px */ /* Aumentado para toque */
        }
        .close-button:hover {
            background-color: var(--cor-accent-hover);
        }
        /* Ajuste específico para o botão "Voltar" do player para ter padding e não ser redondo */
        .player-content .back-to-details-button {
            border-radius: 0.3125rem; /* 5px */
            padding: 0.5rem 0.9375rem; /* 8px 15px */
            font-size: 1em;
            width: auto; 
            left: 0.9375rem; /* 15px */
            right: auto;
            background-color: var(--cor-accent); /* Cor de fundo vermelha */
            color: white; /* Cor do texto branca */
            min-height: 2.5rem; /* Altura mínima para toque */
        }
        /* Efeito hover para o botão Voltar */
        .player-content .back-to-details-button:hover {
            background-color: var(--cor-accent-hover);
        }


        /* Estilos para o container de carrossel de episódios */
        #episodios-carousel-wrapper {
            position: relative;
            overflow: hidden;
            padding-bottom: 0.625rem; /* 10px */
        }

        #episodios-container-horizontal {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding: 0 0.625rem 0.9375rem; /* 0 10px 15px */
        }

        #episodios-container-horizontal::-webkit-scrollbar {
            display: none;
        }
        #episodios-container-horizontal {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .episodio-card {
            min-width: 15rem; /* 240px */
            max-width: 15rem; /* 240px */
            background: #111;
            border-radius: 0.5rem; /* 8px */
            overflow: hidden;
            position: relative;
            flex-shrink: 0;
            box-shadow: 0 0.25rem 0.75rem rgba(0, 0, 0, 0.6); /* 0 4px 12px */
            cursor: pointer;
            transition: transform 0.2s ease;
            margin-bottom: 0.3125rem; /* 5px */
        }
        .episodio-card:hover {
            transform: translateY(-0.3125rem); /* -5px */
        }

        .episodio-card img {
            width: 100%;
            height: 10rem; /* 160px */
            object-fit: cover;
            display: block;
        }

        .episodio-info {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(0.3125rem); /* 5px */
            width: 100%;
            text-align: center;
            padding: 0.625rem; /* 10px */
            font-size: 0.875rem; /* 14px */
            font-weight: bold;
            color: white;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .scroll-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 0, 0, 0.8);
            border: none;
            color: white;
            font-size: 2rem;
            padding: 0.25rem 0.75rem; /* 4px 12px */
            border-radius: 0.5rem; /* 8px */
            cursor: pointer;
            z-index: 10;
            transition: background-color 0.3s ease;
            min-width: 2.5rem; /* 40px */ /* Aumentado para toque */
            min-height: 2.5rem; /* 40px */ /* Aumentado para toque */
        }
        .scroll-btn:hover {
            background: var(--cor-accent-hover);
        }

        .scroll-left {
            left: 0.625rem; /* 10px */
        }

        .scroll-right {
            right: 0.625rem; /* 10px */
        }

        /* ANIMAÇÕES */
        @keyframes fadeIn {
            from {opacity: 0;}
            to {opacity: 1;}
        }
        @keyframes slideDown {
            from {transform: translateY(-1.25rem); opacity: 0;} /* -20px */
            to {transform: translateY(0); opacity: 1;}
        }

        /* RESPONSIVIDADE */
        /* Mobile (até 768px) */
        @media (max-width: 48rem) { /* 768px */
            :root {
                font-size: 15px; /* Reduz a fonte base para mobile */
            }
            #loginBox, #modal {
                width: 90%;
                min-width: unset;
                padding: 1.25rem; /* Ajustado para rem */
            }
            input[type="text"], input[type="password"] {
                width: 100%;
                padding: 0.625rem; /* Ajustado para rem */
            }
            #containerPerfis {
                gap: 0.9375rem; /* Ajustado para rem */
                padding: 0.9375rem; /* Ajustado para rem */
                max-width: 100%;
            }
            .perfil-img {
                width: 5.625rem; /* Ajustado para rem */
                height: 5.625rem; /* Ajustado para rem */
            }
            .perfil.adicionar {
                width: 5.625rem; /* Ajustado para rem */
                height: 5.625rem; /* Ajustado para rem */
                font-size: 3rem; /* Ajustado para rem */
            }
            #sitePrincipal .header-site {
                flex-direction: column;
                align-items: flex-start;
                height: auto;
                padding: 0.625rem 1.25rem; /* Ajustado para rem */
                justify-content: flex-start; /* Alinha ao início no mobile */
            }
            #sitePrincipal .header-site .logo {
                font-size: 1.75rem; /* Ajustado para rem */
                margin-right: 0;
                margin-bottom: 0.625rem; /* Ajustado para rem */
            }
            #sitePrincipal .header-site nav {
                margin-right: auto;
                width: 100%;
                justify-content: space-between;
                gap: 0.5rem; /* Ajustado para rem */
                margin-bottom: 0.625rem; /* Ajustado para rem */
                flex-wrap: wrap;
            }
            #sitePrincipal .header-site .search-profile-area {
                width: 100%;
                justify-content: flex-end; /* Alinha à direita no mobile */
                gap: 0.625rem; /* Ajustado para rem */
                margin-left: 0; /* Remove o margin-left para alinhar */
            }
            #sitePrincipal .header-site #searchInput {
                width: 100%;
                flex-grow: 1;
                border: 0.0625rem solid var(--cor-accent); /* Borda mais fina no mobile */
            }
            #profileIcon {
                flex-shrink: 0;
                width: 2rem; /* Ajustado para rem */
                height: 2rem; /* Ajustado para rem */
                min-width: 2rem; /* Garantir tamanho mínimo */
                min-height: 2rem; /* Garantir tamanho mínimo */
                margin-left: 0; /* Removido para colar no canto */
            }
            .movie-grid {
                padding: 0 0.625rem; /* Ajustado para rem */
            }
            .movie-card {
                width: 9rem; /* Ajustado para rem */
            }
            .movie-card img {
                height: 13.5rem; /* Ajustado para rem (proporcional a 9rem de largura) */
            }
            .details-content, .player-content, #episodiosContent {
                width: 98%; /* Increased from 95% to 98% for more width */
                padding: 1rem; /* Slightly reduced padding to give more content space */
                max-height: 98vh; /* Increased from 95vh to 98vh for more height */
            }
            .details-content h2 {
                font-size: 1.8em;
            }
            .close-button {
                top: 0.3125rem; /* Ajustado para rem */
                right: 0.3125rem; /* Ajustado para rem */
                width: 1.5625rem; /* Ajustado para rem */
                height: 1.5625rem; /* Ajustado para rem */
                font-size: 1em;
                min-width: 2rem; /* Garantir tamanho mínimo */
                min-height: 2rem; /* Garantir tamanho mínimo */
            }
            #episodios-container-horizontal {
                padding: 0 0.3125rem 0.625rem; /* Ajustado para rem */
            }
            .scroll-btn {
                font-size: 1.5rem; /* Ajustado para rem */
                padding: 0.125rem 0.5rem; /* Ajustado para rem */
                min-width: 2rem; /* Garantir tamanho mínimo */
                min-height: 2rem; /* Garantir tamanho mínimo */
            }
            .scroll-left {
                left: 0.3125rem; /* Ajustado para rem */
            }
            .scroll-right {
                right: 0.3125rem; /* Ajustado para rem */
            }
        }

        /* Mobile Pequeno (até 480px) */
        @media (max-width: 30rem) { /* 480px */
            :root {
                font-size: 14px; /* Reduz ainda mais a fonte base para mobile muito pequeno */
            }
            #sitePrincipal .header-site .logo {
                font-size: 1.5rem; /* Ajustado para rem */
            }
            #sitePrincipal .header-site nav {
                justify-content: space-around;
            }
            #sitePrincipal .header-site nav button {
                font-size: 0.875rem; /* Ajustado para rem */
            }
            .movie-grid {
                padding: 0 0.5rem; /* Ajustado para rem */
            }
            .movie-card {
                width: 8rem; /* Ajustado para rem */
            }
            .movie-card img {
                height: 12rem; /* Ajustado para rem */
            }
            #main-site-content h2 {
                font-size: 1.5rem; /* Ajustado para rem */
            }
            #profileIcon span { /* Se houver um span dentro do profileIcon */
                display: none;
            }
            .details-content, .player-content, #episodiosContent {
                width: 98%; /* Ensure it stays wide on smaller mobiles too */
                padding: 0.75rem; /* Further reduce padding for very small screens */
                max-height: 98vh; /* Max height for very small screens */
            }
            .episodio-card {
                min-width: 12.5rem; /* Ajustado para rem */
                max-width: 12.5rem; /* Ajustado para rem */
            }
            .episodio-card img {
                height: 7.5rem; /* Ajustado para rem */
            }
            .episodio-info {
                font-size: 0.75rem; /* Ajustado para rem */
                padding: 0.5rem; /* Ajustado para rem */
            }
        }

        /* Telas Grandes (TVs, Desktops maiores - a partir de 1200px) */
        @media (min-width: 75rem) { /* 1200px */
            :root {
                font-size: 18px; /* Aumenta a fonte base para telas grandes */
            }
            #loginBox {
                padding: 3.5rem 4.5rem; /* Ajustado para rem */
            }
            #loginBox h1 {
                font-size: 4.5rem; /* Ajustado para rem */
            }
            input[type="text"], input[type="password"] {
                width: 18.75rem; /* Ajustado para rem */
                padding: 0.75rem; /* Ajustado para rem */
                font-size: 1.125rem; /* Ajustado para rem */
            }
            #btnEntrar {
                padding: 0.75rem 2.5rem; /* Ajustado para rem */
                font-size: 1.125rem; /* Ajustado para rem */
            }
            #containerPerfis {
                gap: 2.5rem; /* Ajustado para rem */
                padding: 2.5rem; /* Ajustado para rem */
            }
            .perfil-img {
                width: 9.375rem; /* Ajustado para rem */
                height: 9.375rem; /* Ajustado para rem */
            }
            .perfil.adicionar {
                width: 9.375rem; /* Ajustado para rem */
                height: 9.375rem; /* Ajustado para rem */
                font-size: 4.5rem; /* Ajustado para rem */
            }
            #sitePrincipal .header-site {
                padding: 1.25rem 3.75rem; /* Ajustado para rem */
                height: 4.375rem; /* Ajustado para rem */
            }
            #sitePrincipal .header-site .logo {
                font-size: 2.5rem; /* Ajustado para rem */
                margin-right: 2.5rem; /* Ajustado para rem */
            }
            #sitePrincipal .header-site nav {
                font-size: 1.125rem; /* Ajustado para rem */
            }
            #sitePrincipal .header-site #searchInput {
                width: 12.5rem; /* 200px - Diminuído para telas grandes */
                padding: 0.625rem 1rem; /* Ajustado para rem */
                font-size: 1rem; /* Ajustado para rem */
            }
            #profileIcon {
                width: 2.5rem; /* Ajustado para rem */
                height: 2.5rem; /* Ajustado para rem */
                /* margin-left: 0.9375rem; Removido para colar no canto */
            }
            #main-site-content {
                padding: 2.5rem 3.75rem; /* Ajustado para rem */
            }
            #main-site-content h2 {
                font-size: 2.25rem; /* Ajustado para rem */
                margin-bottom: 2rem; /* Ajustado para rem */
            }
            .movie-card {
                width: 10rem; /* Ajustado para rem */
            }
            .movie-card img {
                height: 15rem; /* Ajustado para rem (proporcional a 10rem de largura) */
            }
            .movie-card h3 {
                font-size: 1.3em;
            }
            .movie-card p {
                font-size: 1em;
            }
            .details-content, .player-content, #episodiosContent {
                max-width: 68.75rem; /* Ajustado para rem */
                padding: 2.5rem; /* Ajustado para rem */
            }
            .details-content h2 {
                font-size: 2.5em;
            }
            .close-button {
                width: 2.5rem; /* Ajustado para rem */
                height: 2.5rem; /* Ajustado para rem */
                font-size: 1.5em;
            }
            .player-content .back-to-details-button {
                padding: 0.75rem 1.5rem; /* Ajustado para rem */
                font-size: 1.125rem; /* Ajustado para rem */
            }
            .episodio-card {
                min-width: 18.75rem; /* Ajustado para rem */
                max-width: 18.75rem; /* Ajustado para rem */
            }
            .episodio-card img {
                height: 12.5rem; /* Ajustado para rem */
            }
            .episodio-info {
                font-size: 1rem; /* Ajustado para rem */
            }
            .scroll-btn {
                font-size: 2.5rem; /* Ajustado para rem */
                padding: 0.3125rem 1rem; /* Ajustado para rem */
            }
        }
    </style>
</head>
<body>

<div id="telaLogin" class="tela-principal" role="main" aria-label="Tela de Login">
    <div id="loginBox">
        <h1>Xilften</h1>
        <div class="campo">
            <input type="text" id="usuario" placeholder="Login" autocomplete="username" aria-label="Login"/>
        </div>
        <div class="campo">
            <input type="password" id="senha" placeholder="Senha" autocomplete="current-password" aria-label="Senha"/>
        </div>
        <button id="btnEntrar" aria-live="polite">Entrar</button>
        <div class="erro" id="erroMsg" role="alert" aria-live="assertive"></div>
    </div>
</div>

<div id="telaPerfis" class="tela-principal" role="main" aria-label="Tela de seleção de perfis">
    <div id="containerPerfis" tabindex="0" aria-label="Lista de perfis"></div>
    <button onclick="sair()" aria-label="Voltar para a tela de login">Voltar</button>
</div>

<div id="perfilSelecionado" class="tela-principal" role="main" aria-label="Perfil selecionado">
    <img src="" alt="Foto do perfil selecionado" id="fotoPerfilSelecionado" />
    <h2 id="nomePerfilSelecionado"></h2>
    <button onclick="entrarNoSite()" style="display: none;" aria-label="Entrar no site">Entrar no Site</button>
    <button onclick="voltarPerfis()" style="display: none;" aria-label="Voltar para seleção de perfis">Voltar para Perfis</button>
</div>

<div id="sitePrincipal" class="tela-principal">
    <header class="header-site">
        <div class="logo">Xilften</div>
        <nav>
            <button onclick="showContentSection('home-section')" aria-label="Ir para a seção Início">Início</button>
            <div class="relative genre-button" id="genreButtonContainer">
                <button id="genreDropdownButton" aria-haspopup="true" aria-expanded="false">Gênero</button>
                <div class="genre-dropdown" id="genreDropdown" role="menu">
                    <button role="menuitem" onclick="handleGenreClick('Animação', 'animacao-section')">Animação</button>
                    <button role="menuitem" onclick="handleGenreClick('Ação', 'acao-section')">Ação</button>
                    <button role="menuitem" onclick="handleGenreClick('Aventura', 'aventura-section')">Aventura</button>
                    <button role="menuitem" onclick="handleGenreClick('Comédia', 'comedia-section')">Comédia</button>
                    <button role="menuitem" onclick="handleGenreClick('Drama', 'drama-section')">Drama</button>
                    <button role="menuitem" onclick="handleGenreClick('Ficção Científica', 'ficcao-cientifica-section')">Ficção Científica</button>
                    <button role="menuitem" onclick="handleGenreClick('Fantasia', 'fantasia-section')">Fantasia</button>
                    <button role="menuitem" onclick="handleGenreClick('Terror', 'terror-section')">Terror</button>
                    <button role="menuitem" onclick="handleGenreClick('Romance', 'romance-section')">Romance</button>
                    <button role="menuitem" onclick="handleGenreClick('Suspense', 'suspense-section')">Suspense</button>
                    <button role="menuitem" onclick="handleGenreClick('Thriller', 'thriller-section')">Thriller</button>
                    <button role="menuitem" onclick="handleGenreClick('Documentário', 'documentario-section')">Documentário</button>
                    <button role="menuitem" onclick="handleGenreClick('Guerra', 'guerra-section')">Guerra</button>
                </div>
            </div>
            <button onclick="showContentSection('series-section')" aria-label="Ir para a seção Séries">Séries</button>
            <!-- Novo botão Animes e seu dropdown -->
            <div class="relative genre-button" id="animeButtonContainer">
                <button id="animeDropdownButton" aria-haspopup="true" aria-expanded="false">Animes</button>
                <div class="genre-dropdown" id="animeDropdown" role="menu">
                    <button role="menuitem" onclick="handleGenreClick('Shounen', 'anime-shounen-section')">Shounen</button>
                    <button role="menuitem" onclick="handleGenreClick('Shoujo', 'anime-shoujo-section')">Shoujo</button>
                    <button role="menuitem" onclick="handleGenreClick('Seinen', 'anime-seinen-section')">Seinen</button>
                    <button role="menuitem" onclick="handleGenreClick('Isekai', 'anime-isekai-section')">Isekai</button>
                    <button role="menuitem" onclick="handleGenreClick('Vida Escolar', 'anime-vida-escolar-section')">Vida Escolar</button>
                    <button role="menuitem" onclick="handleGenreClick('Ação', 'anime-acao-section')">Ação</button>
                    <button role="menuitem" onclick="handleGenreClick('Comédia', 'anime-comedia-section')">Comédia</button>
                    <button role="menuitem" onclick="handleGenreClick('Fantasia', 'anime-fantasia-section')">Fantasia</button>
                    <button role="menuitem" onclick="handleGenreClick('Ficção Científica', 'anime-ficcao-cientifica-section')">Ficção Científica</button>
                    <button role="menuitem" onclick="handleGenreClick('Terror', 'anime-terror-section')">Terror</button>
                </div>
            </div>
            <!-- Botão Dorama e seu dropdown -->
            <div class="relative genre-button" id="doramaButtonContainer">
                <button id="doramaDropdownButton" aria-haspopup="true" aria-expanded="false">Dorama</button>
                <div class="genre-dropdown" id="doramaDropdown" role="menu">
                    <button role="menuitem" onclick="handleGenreClick('Romance', 'dorama-romance-section')">Romance</button>
                    <button role="menuitem" onclick="handleGenreClick('Comédia', 'dorama-comedia-section')">Comédia</button>
                    <button role="menuitem" onclick="handleGenreClick('Drama', 'dorama-drama-section')">Drama</button>
                    <button role="menuitem" onclick="handleGenreClick('Histórico', 'dorama-historico-section')">Histórico</button>
                    <button role="menuitem" onclick="handleGenreClick('Escolar', 'dorama-escolar-section')">Escolar</button>
                    <button role="menuitem" onclick="handleGenreClick('Policial', 'dorama-policial-section')">Policial</button>
                    <button role="menuitem" onclick="handleGenreClick('Suspense', 'dorama-suspense-section')">Suspense</button>
                    <button role="menuitem" onclick="handleGenreClick('Terror', 'dorama-terror-section')">Terror</button>
                    <button role="menuitem" onclick="handleGenreClick('Fantasia', 'dorama-fantasia-section')">Fantasia</button>
                    <button role="menuitem" onclick="handleGenreClick('Médico', 'dorama-medico-section')">Médico</button>
                    <button role="menuitem" onclick="handleGenreClick('Ficção Científica', 'dorama-ficcao-cientifica-section')">Ficção Científica</button>
                </div>
            </div>
            <!-- Novo botão Novela -->
            <button onclick="showContentSection('novela-section')" aria-label="Ir para a seção Novela">Novela</button>
            <button onclick="showContentSection('minha-lista-section')" aria-label="Ir para a seção Minha Lista">Minha Lista</button>
        </nav>
        <div class="search-profile-area">
            <input id="searchInput" type="text" placeholder="Buscar..." oninput="pesquisarFilmes()" aria-label="Campo de busca de filmes e séries" />
            <div id="profileIcon" onclick="voltarParaPerfisDoSite()" aria-label="Voltar para seleção de perfis"></div>
        </div>
    </header>
    <main id="main-site-content">
        <div id="home-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Adicionados Recentemente</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="acao-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Ação</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        
        <div id="aventura-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Aventura</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="comedia-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Comédia</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="drama-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Drama</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="ficcao-cientifica-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Ficção Científica</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="fantasia-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Fantasia</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="terror-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Terror</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="romance-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Romance</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="suspense-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Suspense</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="thriller-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Thriller</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="documentario-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Documentário</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="guerra-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Guerra</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="animacao-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Gênero: Animação</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="series-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Séries</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <!-- Novas seções de Animes por Gênero -->
        <div id="anime-shounen-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Anime: Shounen</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="anime-shoujo-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Anime: Shoujo</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="anime-seinen-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Anime: Seinen</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="anime-isekai-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Anime: Isekai</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="anime-vida-escolar-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Anime: Vida Escolar</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="anime-acao-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Anime: Ação</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="anime-comedia-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Anime: Comédia</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="anime-fantasia-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Anime: Fantasia</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="anime-ficcao-cientifica-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Anime: Ficção Científica</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="anime-terror-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Anime: Terror</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>


        <!-- Novas seções de Dorama por Gênero -->
        <div id="dorama-romance-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Dorama: Romance</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="dorama-comedia-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Dorama: Comédia</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="dorama-drama-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Dorama: Drama</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="dorama-historico-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Dorama: Histórico</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="dorama-escolar-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Dorama: Escolar</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="dorama-policial-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Dorama: Policial</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="dorama-suspense-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Dorama: Suspense</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="dorama-terror-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Dorama: Terror</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="dorama-fantasia-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Dorama: Fantasia</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="dorama-medico-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Dorama: Médico</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>
        <div id="dorama-ficcao-cientifica-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Dorama: Ficção Científica</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <!-- Nova seção de Novela -->
        <div id="novela-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Novelas</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                    <p class="text-gray-400 p-4 text-center w-full">Nenhuma novela encontrada.</p>
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>


        <div id="minha-lista-section" class="content-section">
            <h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Minha Lista</h2>
            <div class="movie-carousel-wrapper">
                <button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button>
                <div class="movie-grid">
                </div>
                <button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button>
            </div>
        </div>

        <div id="detailsOverlay" class="overlay">
            <div class="details-content">
                <button class="close-button" onclick="closeDetailsOverlay()" aria-label="Fechar detalhes">×</button>
                <div id="detailsContentArea">
                </div>
                <button class="bg-[#e50914] hover:bg-[#b20710] px-6 py-3 rounded text-white text-lg font-semibold mt-4" id="playButtonDetailsOverlay">Assistir</button>
            </div>
        </div>

        <div id="playerOverlay" class="overlay">
            <div class="player-content">
                <button class="back-to-details-button" onclick="closePlayerOverlay()" aria-label="Voltar para os detalhes ou episódios">Voltar</button>
                <div id="playerContentArea">
                </div>
            </div>
        </div>

        <div id="episodiosOverlay" class="overlay">
            <div id="episodiosContent">
                <button class="close-button" onclick="closeEpisodiosOverlay()" aria-label="Fechar episódios">×</button>
                <h2 id="episodiosTitulo"></h2>
                <div id="episodios-carousel-wrapper">
                    <button class="scroll-btn scroll-left" onclick="scrollEpisodios(-1)">‹</button>
                    <div id="episodios-container-horizontal">
                        </div>
                    <button class="scroll-btn scroll-right" onclick="scrollEpisodios(1)">›</button>
                </div>
            </div>
        </div>
    </main>
</div>

<div id="modalFundo" aria-modal="true" role="dialog" aria-labelledby="modalTitulo" tabindex="-1">
    <div id="modal">
        <h2 id="modalTitulo">Adicionar Perfil</h2>
        <input type="text" id="inputNomePerfil" placeholder="Nome do perfil" autocomplete="off" aria-label="Nome do perfil" />
        <input type="file" id="inputFotoPerfil" accept="image/*" aria-label="Foto do perfil" />
        <div class="modal-erro" id="modalErro"></div>
        <div>
            <button id="btnSalvar">Guardar</button>
            <button onclick="fecharModal()">Cancelar</button>
        </div>
    </div>
</div>

<script>
    // --- Variáveis e Configurações do LOGIN.HTML ---
    const telaLogin = document.getElementById("telaLogin");
    const telaPerfis = document.getElementById("telaPerfis");
    const containerPerfis = document.getElementById("containerPerfis");
    const erroMsg = document.getElementById("erroMsg");
    const modalFundo = document.getElementById("modalFundo");
    const modalTitulo = document.getElementById("modalTitulo");
    const inputNomePerfil = document.getElementById("inputNomePerfil");
    const inputFotoPerfil = document.getElementById("inputFotoPerfil");
    const btnSalvar = document.getElementById("btnSalvar");
    const btnEntrar = document.getElementById("btnEntrar");
    const inputUsuario = document.getElementById("usuario");
    const inputSenha = document.getElementById("senha");
    const modalErro = document.getElementById("modalErro");

    const perfilSelecionadoDiv = document.getElementById("perfilSelecionado");
    const fotoPerfilSelecionado = document.getElementById("fotoPerfilSelecionado");
    const nomePerfilSelecionado = document.getElementById("nomePerfilSelecionado");

    const profileIcon = document.getElementById('profileIcon');
    let perfilAtualImagem = "";

    const imagemPadraoPerfil = "https://cdn-icons-png.flaticon.com/512/684/684637.png";

    const usuariosFixos = {
        "master2090": "330620Aa.",
        "assistir2002": "348761Kn.",
        "xilften2200": "905123Aa..",
        "principal90": "542718Kn."
    };

    let tentativas = 0;
    let bloqueado = false;

    let perfis = [];
    let modoEdicao = false;
    let indiceEditando = null;

    // --- Variáveis e Configurações do SITE.HTML ---
    const sitePrincipal = document.getElementById('sitePrincipal');
    const mainSiteContent = document.getElementById('main-site-content');
    
    const genreButtonContainer = document.getElementById('genreButtonContainer');
    const genreDropdownButton = document.getElementById('genreDropdownButton');
    const genreDropdown = document.getElementById('genreDropdown');
    let dropdownTimeout;

    // Novas referências para o dropdown de Animes
    const animeButtonContainer = document.getElementById('animeButtonContainer');
    const animeDropdownButton = document.getElementById('animeDropdownButton');
    const animeDropdown = document.getElementById('animeDropdown');
    let animeDropdownTimeout;

    // Novas referências para o dropdown de Dorama
    const doramaButtonContainer = document.getElementById('doramaButtonContainer');
    const doramaDropdownButton = document.getElementById('doramaDropdownButton');
    const doramaDropdown = document.getElementById('doramaDropdown');
    let doramaDropdownTimeout;

    const homeSection = document.getElementById('home-section');
    const acaoSection = document.getElementById('acao-section');
    const aventuraSection = document.getElementById('aventura-section');
    const comediaSection = document.getElementById('comedia-section');
    const ficcaoCientificaSection = document.getElementById('ficcao-cientifica-section');
    const fantasiaSection = document.getElementById('fantasia-section');
    const terrorSection = document.getElementById('terror-section');
    const romanceSection = document.getElementById('romance-section');
    const suspenseSection = document.getElementById('suspense-section');
    const thrillerSection = document.getElementById('thriller-section');
    const documentarioSection = document.getElementById('documentario-section');
    const guerraSection = document.getElementById('guerra-section');
    const animacaoSection = document.getElementById('animacao-section');
    const seriesSection = document.getElementById('series-section');
    const minhaListaSection = document.getElementById('minha-lista-section');

    // Novas seções de animes
    const animeShounenSection = document.getElementById('anime-shounen-section');
    const animeShoujoSection = document.getElementById('anime-shoujo-section');
    const animeSeinenSection = document.getElementById('anime-seinen-section');
    const animeIsekaiSection = document.getElementById('anime-isekai-section');
    const animeVidaEscolarSection = document.getElementById('anime-vida-escolar-section');
    const animeAcaoSection = document.getElementById('anime-acao-section');
    const animeComediaSection = document.getElementById('anime-comedia-section');
    const animeFantasiaSection = document.getElementById('anime-fantasia-section');
    const animeFiccaoCientificaSection = document.getElementById('anime-ficcao-cientifica-section');
    const animeTerrorSection = document.getElementById('anime-terror-section');

    // Novas seções de dorama
    const doramaRomanceSection = document.getElementById('dorama-romance-section');
    const doramaComediaSection = document.getElementById('dorama-comedia-section');
    const doramaDramaSection = document.getElementById('dorama-drama-section');
    const doramaHistoricoSection = document.getElementById('dorama-historico-section');
    const doramaEscolarSection = document.getElementById('dorama-escolar-section');
    const doramaPolicialSection = document.getElementById('dorama-policial-section');
    const doramaSuspenseSection = document.getElementById('dorama-suspense-section');
    const doramaTerrorSection = document.getElementById('dorama-terror-section');
    const doramaFantasiaSection = document.getElementById('dorama-fantasia-section');
    const doramaMedicoSection = document.getElementById('dorama-medico-section');
    const doramaFiccaoCientificaSection = document.getElementById('dorama-ficcao-cientifica-section');

    // Nova seção de novela
    const novelaSection = document.getElementById('novela-section');
    
    const detailsOverlay = document.getElementById('detailsOverlay');
    const detailsContentArea = document.getElementById('detailsContentArea');
    const playButtonDetailsOverlay = document.getElementById('playButtonDetailsOverlay'); 
    const playerOverlay = document.getElementById('playerOverlay');
    const playerContentArea = document.getElementById('playerContentArea');
    
    const episodiosOverlay = document.getElementById('episodiosOverlay');
    const episodiosContent = document.getElementById('episodiosContent');
    const episodiosTitulo = document.getElementById('episodiosTitulo');
    const episodiosContainerHorizontal = document.getElementById('episodios-container-horizontal');

    let currentDetailedItem = null;


    // --- Dados (Filmes e Séries) ---
    // Declaração única dos filmes
    const filmes = [
        {
            id: 1,
            titulo: "Thunderbolts",
            ano: "2025",
            genero: "Ação, Aventura, Ficção Científica",
            descricao: "Presos em uma armadilha mortal, uma equipa nada convencional de anti-heróis embarca numa missão perigosa...",
            imagem: "https://lumiere-a.akamaihd.net/v1/images/teaser_1sht_-_rgb_for_online_use_only_6b92ba3f.jpeg",
            trailer: "https://drive.google.com/file/d/1f6dK1VvXE0vq5_Y6n48AjbtlZ-H_7U2T/preview",
            video: "https://drive.google.com/file/d/1BcwVjP6FE1JG98n4bwEor-j6Ky78-IVN/view?usp=sharing",
            isSerie: false
        },
        {
            id: 3,
            titulo: "Batman: O Cavaleiro das Trevas",
            ano: "2008",
            genero: "Ação, Crime, Drama",
            descricao: "Quando a ameaça conhecida como Coringa surge de seu passado, causando estragos e caos sobre os cidadãos de Gotham, Batman deve abraçar um dos maiores testes psicológicos e físicos de sua capacidade de lutar contra a injustiça.",
            imagem: "https://www.europanet.com.br/upload/id_produto/45_____/4500402g.jpg",
            trailer: "https://www.youtube.com/embed/q8ncjHylG6c?si=jQIVBEEDw6T6sgPH",
            video: "https://replay.dropbox.com/share/uAEBnj0Mij2BDaBg",
            isSerie: false
        },
        {
            id: 5, // Novo ID para Lilo & Stitch
            titulo: "Lilo & Stitch",
            ano: "2025",
            genero: "Animação, Aventura",
            descricao: "Uma garota solitária chamada Lilo adota um 'cachorro' excêntrico, que na verdade é um experimento alienígena procurado por toda a galáxia.",
            imagem: "data:image/jpeg;base64,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",
            trailer: "https://www.youtube.com/embed/W76aoLlAgcQ?si=8YWl1iH9ObkvlQ0m",
            video: "https://replay.dropbox.com/share/V6DCxeFeQm1LbjuC", 
            isSerie: false
        },
         {
            id: 4, // ID único para Moana 2
            titulo: "Moana 2",
            ano: "2024",
            genero: "Animação, Aventura, Fantasia",
            descricao: "Moana e Maui embarcam em uma nova aventura épica para restaurar o coração de Te Fiti.",
            imagem: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSZJyANvIoddTL-nNzc7N2nKC4ZHWJhdqkDDQ&s",
            trailer: "https://youtu.be/lqMJQa3JhZU",
            video: "https://drive.google.com/file/d/19M71CrffygxUUi7t84QluOiQdI0PrrOn/preview",
            isSerie: false
        },
    ];

    // Declaração única das séries
    const series = [
        {
            id: 2,
            titulo: "Sandman",
            ano: "2022",
            genero: "Drama, Fantasia",
            descricao: "Sandman narra a história de Morpheus, também conhecido como Sonho, um dos Perpétuos...",
            imagem: "https://br.web.img2.acsta.net/pictures/21/09/27/13/20/1097728.jpg", /* Capa atualizada */
            trailer: "https://www.dropbox.com/scl/fi/gskqjnvatw4ikcmgujavt/Thunderbolts.2025.1080p.HDCAM.Dublado.mkv?rlkey=59lu05ri7hfbyc0zd68qbbrga&st=kpp5aryq&dl=0",
            isSerie: true,
            episodios: [
                { id: 's1e1', titulo: "Episódio 1 - Sonho dos Justos", imagem: "https://kanto.legiaodosherois.com.br/w728-h381-gnw-cfill-gcc-f:fbcover/wp-content/uploads/2021/09/legiao_ZeBC9NQHV0F1.jpg.webp", video: "https://drive.google.com/file/d/1ZqASeyupoJw6IlEu0ZhjjuzR3xUNhryt/view?usp=sharing", },
                { id: 's1e2', titulo: "Episódio 2 - Anfitriões Imperfeitos", imagem: "https://blog.incoherent.net/wp-content/uploads/2022/08/vlcsnap-2022-08-07-17h42m36s995.png?w=1200", video: "https://drive.google.com/file/d/1iqYlWi_RC0OBwN4TpAEFegnCKIcPFBS/view?usp=sharing", },
                { id: 's1e3', titulo: "Episódio 3 - Sonhe Comigo", imagem: "https://tomandlorenzo.com/wp-content/uploads/2022/08/TheSandman_Season1_00_41_27_12R-scaled.jpg", video: "https://drive.google.com/file/d/1OytwXxC4ABFD8L-uUkDHNHt8xbKiu1p6/view?usp=sharing", },
                { id: 's1e4', titulo: "Episódio 4 - Uma Esperança no Inferno", imagem: "https://tomandlorenzo.com/wp-content/uploads/2022/08/TheSandman_Season1_00_18_53_22R-scaled.jpg", video: "https://drive.google.com/file/d/15TlfKctE410YnSFO-OJe-rNtOHtqGcSd/view?usp=sharing", },
                { id: 's1e5', titulo: "Episódio 5 - Sem Parar", imagem: "https://i0.wp.com/subjectifymedia.com/wp-content/uploads/2022/09/john-dee-3.jpg?resize=1300%2C650&ssl=1", video: "https://drive.google.com/file/d/1Rp-PUXhA0nCiZKvInTjxZHReoCqWcFE_/view?usp=sharing", },
                { id: 's1e6', titulo: "Episódio 6 - O Som das Asas Dela", imagem: "https://dnm.nflximg.net/api/v6/BvVbc2Wxr2w6QuoANoSpJKEIWjQ/AAAAQY020dAlhqHUvq66zGcc6jkuP3GhCuXsr6pLjLtzraKbNBOlVLbEbNAqwvJT5ZfKesKz4lKmYZl5iOaPuQZ-ZGmo32ZjUAfrdFqJiGFp840wOx0c7-rAiycx911sAfoHcCNOM4Jvz7n4dfpBHXNWv-F32ek.jpg?r=412", video: "https://drive.google.com/file/d/1NUXrSGklAWnY7oDlIXDyAvjK1DBUcxFR/view?usp=sharing", },
                { id: 's1e7', titulo: "Episódio 7 - Casa de Bonecas", imagem: "https://cdn.mos.cms.futurecdn.net/hBPyFufsLihM8RxQRSMruH.jpg", video: "https://drive.google.com/file/d/1cfKyiRF6wFxXzF2DNvnsGllfSymIWUC6/view?usp=sharing", },
                { id: 's1e8', titulo: "Episódio 8 - Brincando de Casinha", imagem: "https://cdn.mos.cms.futurecdn.net/vbBe58kC26yMacjKhC3kCZ.jpg", video: "https://drive.google.com/file/d/1ftvfrCrR11HabdoQ38p7YBo6GfTSsf-i/view?usp=sharing", },
                { id: 's1e9', titulo: "Episódio 9 - Colecionadores", imagem: "https://www.zonanegativa.com/imagenes/2022/08/the-sandman-netflix-9.jpg", video: "https://drive.google.com/file/d/1PsdJNcCKKrMrFHc6KefUsQOLNMgAEyYJ/view?usp=sharing", },
                { id: 's1e10', titulo: "Episódio 10 - Corações Perdidos", imagem: "https://tm.ibxk.com.br/2025/07/01/01162920952024.jpg?ims=fit-in/800x500/filters:quality(70)", video: "https://drive.google.com/file/d/1vYs4M4dHnlyzQ5RovdflB_DSEvNQQ6qR/view?usp=sharing", }
            ]
        }
  
    ];

    // Declaração única dos doramas
    const doramas = [
         
    ];

    // Declaração única dos animes
    const animes = [
      
    ];

    // Declaração única das novelas (exemplo, pode ser expandido)
    const novelas = [
       
       
    ];

    // Declaração única dos itens da home (Adicionados Recentemente)
    const homeItems = [
        {
            id: 1,
            titulo: "Thunderbolts",
            ano: "2025",
            genero: "Ação, Aventura, Ficção Científica",
            descricao: "Presos em uma equipa mortal, uma equipa nada convencional de anti-heróis embarca numa missão perigosa...",
            imagem: "https://lumiere-a.akamaihd.net/v1/images/teaser_1sht_-_rgb_for_online_use_only_6b92ba3f.jpeg",
            trailer: "https://drive.google.com/file/d/1f6dK1VvXE0vq5_Y6n48AjbtlZ-H_7U2T/preview",
            video: "https://www.dropbox.com/scl/fi/gskqjnvatw4ikcmgujavt/Thunderbolts.2025.1080p.HDCAM.Dublado.mkv?rlkey=59lu05ri7hfbyc0zd68qbbrga&st=kpp5aryq&dl=0",
            isSerie: false
        },
        {
            id: 2,
            titulo: "Sandman",
            ano: "2022",
            genero: "Drama, Fantasia",
            descricao: "Sandman narra a história de Morpheus, também conhecido como Sonho, um dos Perpétuos...",
            imagem: "https://br.web.img2.acsta.net/pictures/21/09/27/13/20/1097728.jpg", /* Capa atualizada */
            trailer: "https://drive.google.com/file/d/1uUvoyg4At2IIpqbTTra4kYaOieQX5dox/preview",
            isSerie: true,
            episodios: [
                { id: 's1e1', titulo: "Episódio 1 - Sonho dos Justos", imagem: "https://kanto.legiaodosherois.com.br/w728-h381-gnw-cfill-gcc-f:fbcover/wp-content/uploads/2021/09/legiao_ZeBC9NQHV0F1.jpg.webp", video: "https://drive.google.com/file/d/1ZqASeyupoJw6IlEu0ZhjjuzR3xUNhryt/view?usp=sharing", },
                { id: 's1e2', titulo: "Episódio 2 - Anfitriões Imperfeitos", imagem: "https://blog.incoherent.net/wp-content/uploads/2022/08/vlcsnap-2022-08-07-17h42m36s995.png?w=1200", video: "https://drive.google.com/file/d/1iqYlWi_RC0OBwN4TpAEFegnCKIcPFBS/view?usp=sharing", },
                { id: 's1e3', titulo: "Episódio 3 - Sonhe Comigo", imagem: "https://tomandlorenzo.com/wp-content/uploads/2022/08/TheSandman_Season1_00_41_27_12R-scaled.jpg", video: "https://drive.google.com/file/d/1OytwXxC4ABFD8L-uUkDHNHt8xbKiu1p6/view?usp=sharing", },
                { id: 's1e4', titulo: "Episódio 4 - Uma Esperança no Inferno", imagem: "https://tomandlorenzo.com/wp-content/uploads/2022/08/TheSandman_Season1_00_18_53_22R-scaled.jpg", video: "https://drive.google.com/file/d/15TlfKctE410YnSFO-OJe-rNtOHtqGcSd/view?usp=sharing", },
                { id: 's1e5', titulo: "Episódio 5 - Sem Parar", imagem: "https://i0.wp.com/subjectifymedia.com/wp-content/uploads/2022/09/john-dee-3.jpg?resize=1300%2C650&ssl=1", video: "https://drive.google.com/file/d/1Rp-PUXhA0nCiZKvInTjxZHReoCqWcFE_/view?usp=sharing", },
                { id: 's1e6', titulo: "Episódio 6 - O Som das Asas Dela", imagem: "https://dnm.nflximg.net/api/v6/BvVbc2Wxr2w6QuoANoSpJKEIWjQ/AAAAQY020dAlhqHUvq66zGcc6jkuP3GhCuXsr6pLjLtzraKbNBOlVLbEbNAqwvJT5ZfKesKz4lKmYZl5iOaPuQZ-ZGmo32ZjUAfrdFqJiGFp840wOx0c7-rAiycx911sAfoHcCNOM4Jvz7n4dfpBHXNWv-F32ek.jpg?r=412", video: "https://drive.google.com/file/d/1NUXrSGklAWnY7oDlIXDyAvjK1DBUcxFR/view?usp=sharing", },
                { id: 's1e7', titulo: "Episódio 7 - Casa de Bonecas", imagem: "https://cdn.mos.cms.futurecdn.net/hBPyFufsLihM8RxQRSMruH.jpg", video: "https://drive.google.com/file/d/1cfKyiRF6wFxXzF2DNvnsGllfSymIWUC6/view?usp=sharing", },
                { id: 's1e8', titulo: "Episódio 8 - Brincando de Casinha", imagem: "https://cdn.mos.cms.futurecdn.net/vbBe58kC26yMacjKhC3kCZ.jpg", video: "https://drive.google.com/file/d/1ftvfrCrR11HabdoQ38p7YBo6GfTSsf-i/view?usp=sharing", },
                { id: 's1e9', titulo: "Episódio 9 - Colecionadores", imagem: "https://www.zonanegativa.com/imagenes/2022/08/the-sandman-netflix-9.jpg", video: "https://drive.google.com/file/d/1PsdJNcCKKrMrFHc6KefUsQOLNMgAEyYJ/view?usp=sharing", },
                { id: 's1e10', titulo: "Episódio 10 - Corações Perdidos", imagem: "https://tm.ibxk.com.br/2025/07/01/01162920952024.jpg?ims=fit-in/800x500/filters:quality(70)", video: "https://drive.google.com/file/d/1vYs4M4dHnlyzQ5RovdflB_DSEvNQQ6qR/view?usp=sharing", }
            ]
        },
        {
            id: 3,
            titulo: "Batman: O Cavaleiro das Trevas",
            ano: "2008",
            genero: "Ação, Crime, Drama",
            descricao: "Quando a ameaça conhecida como Coringa surge de seu passado, causando estragos e caos sobre os cidadãos de Gotham, Batman deve abraçar um dos maiores testes psicológicos e físicos de sua capacidade de lutar contra a injustiça.",
            imagem: "https://www.europanet.com.br/upload/id_produto/45_____/4500402g.jpg",
            trailer: "https://www.youtube.com/embed/q8ncjHylG6c?si=jQIVBEEDw6T6sgPH",
            video: "https://replay.dropbox.com/share/uAEBnj0Mij2BDaBg",
            isSerie: false
        },
        {
            id: 5, // Novo ID para Lilo & Stitch
            titulo: "Lilo & Stitch",
            ano: "2025",
            genero: "Animação, Aventura",
            descricao: "Uma garota solitária chamada Lilo adota um 'cachorro' excêntrico, que na verdade é um experimento alienígena procurado por toda a galáxia.",
            imagem: "data:image/jpeg;base64,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",
            trailer: "https://www.youtube.com/embed/W76aoLlAgcQ?si=8YWl1iH9ObkvlQ0m",
            video: "https://replay.dropbox.com/share/V6DCxeFeQm1LbjuC", 
            isSerie: false
        },
         {
            id: 4, // ID único para Moana 2
            titulo: "Moana 2",
            ano: "2024",
            genero: "Animação, Aventura, Fantasia",
            descricao: "Moana e Maui embarcam em uma nova aventura épica para restaurar o coração de Te Fiti.",
            imagem: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSZJyANvIoddTL-nNzc7N2nKC4ZHWJhdqkDDQ&s",
            trailer: "https://youtu.be/lqMJQa3JhZU",
            video: "https://drive.google.com/file/d/19M71CrffygxUUi7t84QluOiQdI0PrrOn/preview",
            isSerie: false
        },
    ];

    // Carregar favoritos do localStorage ou iniciar vazio
    let favoritos = JSON.parse(localStorage.getItem('xilftenFavoritos')) || [];

    // --- Array combinado de todos os itens disponíveis (filmes e séries) ---
    // Usamos um Map para garantir que os itens sejam únicos por ID
    const allItemsMap = new Map();
    [...filmes, ...series, ...homeItems, ...doramas, ...animes, ...novelas].forEach(item => { // Incluindo novelas
        allItemsMap.set(item.id, item);
    });
    const allUniqueContentItems = Array.from(allItemsMap.values());


    // --- Funções Comuns para Transição de Telas ---
    function mostrarTela(telaAtivar, telaDesativar) {
        if (telaDesativar && telaDesativar.classList.contains("ativa")) {
            telaDesativar.classList.remove("ativa");
            setTimeout(() => {
                telaDesativar.style.display = 'none';
                // Removido overflowY = 'hidden' daqui, pois o body agora gerencia
            }, 800);
        }

        telaAtivar.style.display = 'flex';
        setTimeout(() => {
            telaAtivar.classList.add("ativa");
            // Removido a lógica de overflowY aqui, o body agora gerencia
        }, 10);
        // Removido document.body.style.overflowY = 'hidden';
    }


    // --- Funções do LOGIN.HTML ---
    function salvarPerfisStorage() {
        localStorage.setItem("xilftenPerfis", JSON.stringify(perfis));
    }

    function carregarPerfisStorage() {
        const dados = localStorage.getItem("xilftenPerfis");
        if (dados) {
            try {
                perfis = JSON.parse(dados);
            } catch (e) {
                console.error("Erro ao carregar perfis do localStorage:", e);
                perfis = [];
            }
        }
    }

    function salvarFavoritosStorage() {
        localStorage.setItem('xilftenFavoritos', JSON.stringify(favoritos));
    }

    window.onload = () => {
        carregarPerfisStorage();
        telaLogin.style.display = 'flex';
        // Adiciona um pequeno atraso para garantir que a propriedade display seja aplicada antes da transição
        setTimeout(() => {
            telaLogin.classList.add('ativa');
        }, 50); 
        inputUsuario.focus();
        
        // Adiciona listeners para o dropdown de Gênero com a sintaxe correta
        if (genreButtonContainer && genreDropdownButton && genreDropdown) {
            genreButtonContainer.addEventListener('mouseenter', () => dropdownTimeout = showDropdown(genreDropdown, genreDropdownButton, dropdownTimeout));
            genreButtonContainer.addEventListener('mouseleave', () => dropdownTimeout = hideDropdownWithDelay(genreDropdown, genreDropdownButton, dropdownTimeout));
            genreDropdown.addEventListener('mouseenter', () => clearHideDropdownTimeout(dropdownTimeout));
            genreDropdown.addEventListener('mouseleave', () => dropdownTimeout = hideDropdownWithDelay(genreDropdown, genreDropdownButton, dropdownTimeout));
        }

        // Adiciona listeners para o novo dropdown de Animes
        if (animeButtonContainer && animeDropdownButton && animeDropdown) {
            animeButtonContainer.addEventListener('mouseenter', () => animeDropdownTimeout = showDropdown(animeDropdown, animeDropdownButton, animeDropdownTimeout));
            animeButtonContainer.addEventListener('mouseleave', () => animeDropdownTimeout = hideDropdownWithDelay(animeDropdown, animeDropdownButton, animeDropdownTimeout));
            animeDropdown.addEventListener('mouseenter', () => clearHideDropdownTimeout(animeDropdownTimeout));
            animeDropdown.addEventListener('mouseleave', () => animeDropdownTimeout = hideDropdownWithDelay(animeDropdown, animeDropdownButton, animeDropdownTimeout));
        }

        // Adiciona listeners para o novo dropdown de Dorama
        if (doramaButtonContainer && doramaDropdownButton && doramaDropdown) {
            doramaButtonContainer.addEventListener('mouseenter', () => doramaDropdownTimeout = showDropdown(doramaDropdown, doramaDropdownButton, doramaDropdownTimeout));
            doramaButtonContainer.addEventListener('mouseleave', () => doramaDropdownTimeout = hideDropdownWithDelay(doramaDropdown, doramaDropdownButton, doramaDropdownTimeout));
            doramaDropdown.addEventListener('mouseenter', () => clearHideDropdownTimeout(doramaDropdownTimeout));
            doramaDropdown.addEventListener('mouseleave', () => doramaDropdownTimeout = hideDropdownWithDelay(doramaDropdown, doramaDropdownButton, doramaDropdownTimeout));
        }
        
        renderAllContentSections();
    };

    btnEntrar.addEventListener('click', login);

    function login() {
        if (bloqueado) return;

        const usuario = inputUsuario.value.trim();
        const senha = inputSenha.value.trim();

        if (!usuario) {
            erroMsg.textContent = "Digite o Login.";
            inputUsuario.focus();
            return;
        }
        if (!senha) {
            erroMsg.textContent = "Digite a Senha.";
            inputSenha.focus();
            return;
        }

        btnEntrar.disabled = true;
        erroMsg.textContent = "";

        if (usuariosFixos[usuario] === senha) {
            tentativas = 0;
            bloqueado = false;
            erroMsg.textContent = "";
            mostrarPerfis();
            mostrarTela(telaPerfis, telaLogin);
            inputUsuario.value = "";
            inputSenha.value = "";
        } else {
            tentativas++;
            if (tentativas >= 3) {
                bloqueado = true;
                erroMsg.textContent = "Muitas tentativas. Tente novamente em 1 minuto.";
                setTimeout(() => {
                    tentativas = 0;
                    bloqueado = false;
                    erroMsg.textContent = "";
                    btnEntrar.disabled = false;
                }, 60000);
            } else {
                erroMsg.textContent = `Login ou Senha inválidos. Tentativa ${tentativas} de 3.`;
            }
        }
        if (!bloqueado) {
            btnEntrar.disabled = false;
        }
    }

    function mostrarPerfis() {
        containerPerfis.innerHTML = "";

        perfis.forEach((perfil, i) => {
            const div = document.createElement("div");
            div.className = "perfil";
            div.title = perfil.nome;
            div.setAttribute("tabindex", "0");
            div.setAttribute("role", "button");
            div.setAttribute("aria-label", `Entrar no perfil ${perfil.nome}`);

            const img = document.createElement("img");
            img.className = "perfil-img";
            img.src = perfil.imagem || imagemPadraoPerfil;
            img.alt = `Foto do perfil de ${perfil.nome}`;

            const span = document.createElement("span");
            span.textContent = perfil.nome;

            const editar = document.createElement("div");
            editar.className = "editar-icon";
            editar.innerHTML = "✎";
            editar.title = "Editar perfil";
            editar.setAttribute("role", "button");
            editar.setAttribute("tabindex", "0");
            editar.setAttribute("aria-label", `Editar perfil ${perfil.nome}`);
            editar.onclick = (e) => {
                e.stopPropagation();
                abrirModal(true, i);
            };
            editar.onkeydown = (e) => {
                if (e.key === "Enter" || e.key === " ") {
                    e.preventDefault();
                    abrirModal(true, i);
                }
            };

            const excluir = document.createElement("div");
            excluir.className = "excluir-icon";
            excluir.innerHTML = "×";
            excluir.title = "Excluir perfil";
            excluir.setAttribute("role", "button");
            excluir.setAttribute("tabindex", "0");
            excluir.setAttribute("aria-label", `Excluir perfil ${perfil.nome}`);
            excluir.onclick = (e) => {
                e.stopPropagation();
                perfis.splice(i, 1);
                salvarPerfisStorage();
                mostrarPerfis();
            };
            excluir.onkeydown = (e) => {
                if (e.key === "Enter" || e.key === " ") {
                    e.preventDefault();
                    perfis.splice(i, 1);
                    salvarPerfisStorage();
                    mostrarPerfis();
                }
            };

            div.onclick = () => entrarNoSite(i);
            div.onkeydown = (e) => {
                if (e.key === "Enter" || e.key === " ") {
                    e.preventDefault();
                    entrarNoSite(i);
                }
            };

            div.appendChild(img);
            div.appendChild(editar);
            div.appendChild(excluir);
            div.appendChild(span);
            containerPerfis.appendChild(div);
        });

        if (perfis.length < 8) {
            const adicionar = document.createElement("div");
            adicionar.className = "perfil adicionar";
            adicionar.textContent = "+";
            adicionar.title = "Adicionar perfil";
            adicionar.setAttribute("tabindex", "0");
            adicionar.setAttribute("role", "button");
            adicionar.setAttribute("aria-label", "Adicionar novo perfil");
            adicionar.onclick = () => abrirModal(false);
            adicionar.onkeydown = (e) => {
                if (e.key === "Enter" || e.key === " ") {
                    e.preventDefault();
                    abrirModal(false);
                }
            };
            containerPerfis.appendChild(adicionar);
        } else {
            const aviso = document.createElement("div");
            aviso.className = "modal-erro";
            aviso.textContent = "Limite de 8 perfis atingido.";
            containerPerfis.appendChild(aviso);
        }
    }

    function abrirModal(editando = false, indice = null) {
        modoEdicao = editando;
        indiceEditando = indice;
        modalTitulo.textContent = editando ? "Editar Perfil" : "Adicionar Perfil";
        modalErro.textContent = "";
        inputNomePerfil.value = editando ? perfis[indice].nome : "";
        inputFotoPerfil.value = "";
        modalFundo.classList.add("ativo");
        inputNomePerfil.focus();
    }

    function fecharModal() {
        modalFundo.classList.remove("ativo");
        modalErro.textContent = "";
    }

    btnSalvar.addEventListener('click', () => {
        const nome = inputNomePerfil.value.trim();
        if (nome === "") {
            modalErro.textContent = "Digite um nome.";
            inputNomePerfil.focus();
            return;
        }
        if (nome.length > 20) {
            modalErro.textContent = "Nome muito longo (máx 20 caracteres).";
            inputNomePerfil.focus();
            return;
        }
        if (!modoEdicao && perfis.length >= 8) {
            modalErro.textContent = "Limite máximo de 8 perfis atingido.";
            return;
        }
        btnSalvar.disabled = true;
        btnSalvar.textContent = "A Guardar...";

        const processarSalvar = (imagem) => {
            if (modoEdicao) {
                perfis[indiceEditando].nome = nome;
                if (imagem) perfis[indiceEditando].imagem = imagem;
            } else {
                perfis.push({ nome, imagem: imagem || imagemPadraoPerfil });
            }
            salvarPerfisStorage();
            mostrarPerfis();
            fecharModal();
            btnSalvar.disabled = false;
            btnSalvar.textContent = "Guardar";
        };

        if (inputFotoPerfil.files.length > 0) {
            const file = inputFotoPerfil.files[0];
            if (file.size > 2 * 1024 * 1024) {
                modalErro.textContent = "Imagem muito grande (máx 2MB).";
                btnSalvar.disabled = false;
                btnSalvar.textContent = "Guardar";
                return;
            }
            const reader = new FileReader();
            reader.onload = (e) => {
                processarSalvar(e.target.result);
            };
            reader.readAsDataURL(file);
        } else {
            processarSalvar(null);
        }
    });

    function sair() {
        mostrarTela(telaLogin, telaPerfis);
        sitePrincipal.classList.remove("ativa");
        perfilSelecionadoDiv.classList.remove("ativa");

        inputUsuario.value = "";
        inputSenha.value = "";
        erroMsg.textContent = "";
        inputUsuario.focus();
    }

    function entrarNoSite(perfilIndex) {
        const perfil = perfis[perfilIndex];
        if (!perfil) return;

        perfilAtualImagem = perfil.imagem || imagemPadraoPerfil;
        updateProfileIcon();

        mostrarTela(sitePrincipal, telaPerfis);
        showContentSection('home-section');
        renderAllContentSections(); // Adicionado para garantir que o conteúdo seja renderizado após o login
    }

    function voltarParaPerfisDoSite() {
        closeAllOverlays();
        showContentSection('home-section');
        mostrarTela(telaPerfis, sitePrincipal);
    }

    function updateProfileIcon() {
        if (profileIcon) {
            if (perfilAtualImagem) {
                profileIcon.innerHTML = `<img src="${perfilAtualImagem}" alt="Perfil">`;
            } else {
                profileIcon.innerHTML = `P`;
            }
        }
    }

    modalFundo.addEventListener("click", e => {
        if (e.target === modalFundo) fecharModal();
    });

    inputNomePerfil.addEventListener("keydown", e => {
        if (e.key === "Enter") btnSalvar.click();
    });

    inputSenha.addEventListener("keydown", e => {
        if (e.key === "Enter") btnEntrar.click();
    });
    inputUsuario.addEventListener("keydown", e => {
        if (e.key === "Enter") inputSenha.focus();
    });

    // --- Funções do SITE.HTML ---

    function showContentSection(sectionId) {
        document.querySelectorAll('#main-site-content .content-section').forEach(section => {
            section.classList.remove('active');
        });
        const activeSection = document.getElementById(sectionId);
        if (activeSection) {
            activeSection.classList.add('active');
            mainSiteContent.scrollTop = 0;
        }
    }

    // Função auxiliar para renderizar carrosséis
    function renderCarousel(containerElement, items, message) {
        const carouselWrapper = containerElement.querySelector('.movie-carousel-wrapper');
        const movieGrid = carouselWrapper.querySelector('.movie-grid');
        
        let contentHtml = '';
        if (items.length > 0) {
            contentHtml += items.map(renderCard).join('');
        }
        if (contentHtml === '') {
            contentHtml = `<p class="text-gray-400 p-4 text-center w-full">${message}</p>`;
        }
        movieGrid.innerHTML = contentHtml;
    }

    function renderAllContentSections() {
        // Agora 'allUniqueContentItems' é a fonte principal de dados para evitar duplicações
        
        renderCarousel(homeSection, homeItems, "Nenhum título adicionado recentemente.");

        const allGenres = [
            'Animação', 'Ação', 'Aventura', 'Comédia', 'Drama', 'Ficção Científica', 'Fantasia',
            'Terror', 'Romance', 'Suspense', 'Thriller', 'Documentário', 'Guerra'
        ];
        allGenres.forEach(genre => {
            const genreSectionId = `${genre.toLowerCase().replace(/ /g, '-')}-section`;
            const genreSection = document.getElementById(genreSectionId);
            if (genreSection) {
                let filteredContent = allUniqueContentItems.filter(item => 
                    item.genero.includes(genre) && !item.isDorama && !item.isAnime && !item.isNovela
                );
                renderCarousel(genreSection, filteredContent, `Nenhum título encontrado para este gênero: ${genre}.`);
            }
        });

        renderSeriesSection(); 
        renderMinhaListaSection();

        // Renderiza as seções de animes
        const animeGenres = ['Shounen', 'Shoujo', 'Seinen', 'Isekai', 'Vida Escolar', 'Ação', 'Comédia', 'Fantasia', 'Ficção Científica', 'Terror'];
        animeGenres.forEach(genre => {
            const animeGenreSectionId = `anime-${genre.toLowerCase().replace(/ /g, '-')}-section`;
            const animeGenreSection = document.getElementById(animeGenreSectionId);
            if (animeGenreSection) {
                const filteredContent = allUniqueContentItems.filter(item =>
                    item.genero.includes(genre) && item.isAnime // Filtra apenas animes para seções de anime
                );
                renderCarousel(animeGenreSection, filteredContent, `Nenhum título encontrado para este gênero de Anime: ${genre}.`);
            }
        });

        // Renderiza as seções de dorama
        const doramaGenres = ['Romance', 'Comédia', 'Drama', 'Histórico', 'Escolar', 'Policial', 'Suspense', 'Terror', 'Fantasia', 'Médico', 'Ficção Científica'];
        doramaGenres.forEach(genre => {
            const doramaGenreSectionId = `dorama-${genre.toLowerCase().replace(/ /g, '-')}-section`;
            const doramaGenreSection = document.getElementById(doramaGenreSectionId);
            if (doramaGenreSection) {
                const filteredContent = allUniqueContentItems.filter(item =>
                    item.genero.includes(genre) && item.isDorama // Filtra apenas doramas para seções de dorama
                );
                renderCarousel(doramaGenreSection, filteredContent, `Nenhum título encontrado para este gênero de Dorama: ${genre}.`);
            }
        });

        // Renderiza a seção de novelas
        const novelasToDisplay = allUniqueContentItems.filter(item => item.isNovela);
        renderCarousel(novelaSection, novelasToDisplay, "Nenhuma novela encontrada.");
    }

    function renderSeriesSection() {
        const seriesToDisplay = allUniqueContentItems.filter(item => 
            item.isSerie && !item.isDorama && !item.isAnime && !item.isNovela
        );
        renderCarousel(seriesSection, seriesToDisplay, "Nenhuma série encontrada.");
    }

    function renderMinhaListaSection() {
        const favoritadosToRender = allUniqueContentItems.filter(item => favoritos.includes(item.id));
        renderCarousel(minhaListaSection, favoritadosToRender, "Você não tem títulos na sua lista.");
    }

    // Modificada para aceitar parâmetros para reuso
    function showDropdown(dropdownElement, buttonElement, timeoutVar) {
        clearTimeout(timeoutVar);
        if (dropdownElement) {
            dropdownElement.style.display = 'block';
            dropdownElement.style.opacity = '1';
            buttonElement.setAttribute('aria-expanded', 'true');
        }
        return timeoutVar; // Retorna o timeoutId para que possa ser armazenado
    }

    // Modificada para aceitar parâmetros para reuso
    function hideDropdown(dropdownElement, buttonElement, timeoutVar) {
        if (dropdownElement) {
            dropdownElement.style.opacity = '0';
            setTimeout(() => {
                dropdownElement.style.display = 'none';
            }, 200);
            buttonElement.setAttribute('aria-expanded', 'false');
        }
    }

    // Modificada para aceitar parâmetros para reuso
    function hideDropdownWithDelay(dropdownElement, buttonElement, timeoutVar) {
        clearTimeout(timeoutVar);
        timeoutVar = setTimeout(() => hideDropdown(dropdownElement, buttonElement, timeoutVar), 200);
        return timeoutVar; // Retorna o timeoutId para que possa ser armazenado
    }

    // Modificada para aceitar parâmetros para reuso
    function clearHideDropdownTimeout(timeoutVar) {
        clearTimeout(timeoutVar);
    }

    function handleGenreClick(genreName, sectionId) {
        showContentSection(sectionId);
        // Garante que todos os dropdowns sejam escondidos ao clicar em um gênero
        hideDropdown(genreDropdown, genreDropdownButton, dropdownTimeout); 
        hideDropdown(doramaDropdown, doramaDropdownButton, doramaDropdownTimeout);
        hideDropdown(animeDropdown, animeDropdownButton, animeDropdownTimeout); // Esconde o dropdown de Animes
    }

    function renderCard(item) {
        const isFavorited = favoritos.includes(item.id);
        const starClass = isFavorited ? 'favorited' : 'not-favorited';
        const starIcon = isFavorited ? '★' : '☆';

        return `
            <div class="movie-card" data-item-id="${item.id}" onclick="openDetailsOverlay(${item.id})" tabindex="0" role="button" aria-label="${item.titulo}, ano ${item.ano}, gênero ${item.genero}${item.isSerie ? ', série' : ''}">
                <div class="relative overflow-hidden rounded-xl">
                    <img src="${item.imagem}" class="w-full h-[15rem] object-cover rounded-t-lg" alt="Póster de ${item.titulo}" loading="lazy">
                    <div class="favorito-btn" onclick="event.stopPropagation(); toggleFavorito(${item.id})" tabindex="0" role="button" aria-label="${isFavorited ? 'Remover dos favoritos' : 'Adicionar aos favoritos'}">
                        <span class="${starClass}" aria-hidden="true">${starIcon}</span>
                    </div>
                </div>
                <h3>${item.titulo}</h3>
                <p>${item.ano} | ${item.genero}</p>
            </div>
        `;
    }

    // Nova função para rolagem horizontal dos carrosséis
    function scrollMovies(button, direction) {
        const movieGrid = button.parentNode.querySelector('.movie-grid');
        const scrollAmount = movieGrid.clientWidth * 0.8; // Rola 80% da largura visível
        movieGrid.scrollBy({
            left: direction * scrollAmount,
            behavior: 'smooth'
        });
    }

    function openDetailsOverlay(id) {
        const item = allUniqueContentItems.find(f => f.id === id); // Usa allUniqueContentItems para encontrar o item
        if (!item) return;

        currentDetailedItem = item;

        detailsContentArea.innerHTML = `
            <div class="aspect-video mb-4">
                <iframe src="${item.trailer}" allow="autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" referrerpolicy="no-referrer-when-downgrade" allowfullscreen loading="lazy" class="w-full h-full rounded-xl" title="Trailer de ${item.titulo}" allow="autoplay"></iframe>
            </div>
            <h2>${item.titulo}</h2>
            <p class="meta-info">${item.ano} | ${item.genero}</p>
            <p>${item.descricao}</p>
        `;
        
        if (item.isSerie) {
            playButtonDetailsOverlay.textContent = "Ver Episódios";
            playButtonDetailsOverlay.onclick = () => openEpisodiosOverlay(item.id);
            playButtonDetailsOverlay.setAttribute('aria-label', `Ver episódios de ${item.titulo}`);
        } else {
            playButtonDetailsOverlay.textContent = "Assistir";
            playButtonDetailsOverlay.onclick = () => openPlayerOverlay(item.id);
            playButtonDetailsOverlay.setAttribute('aria-label', `Assistir ao filme ${item.titulo}`);
        }

        detailsOverlay.classList.add('active');
        // Removido sitePrincipal.style.overflowY = 'hidden';
    }

    function closeDetailsOverlay() {
        detailsOverlay.classList.remove('active');
        const iframe = detailsContentArea.querySelector('iframe');
        if (iframe) iframe.src = "";
        
        // Removido a lógica de overflowY aqui, o body agora gerencia
    }

    function openPlayerOverlay(id) {
        let itemToPlay = null;

        // Procura o item na lista unificada de conteúdo
        const foundMainItem = allUniqueContentItems.find(contentItem => contentItem.id === id);

        if (foundMainItem) { // Se for um filme/série principal
            if (foundMainItem.isSerie && foundMainItem.episodios) {
                // Se o ID é de uma série, verifica se a chamada é para um episódio específico
                const episodeFound = foundMainItem.episodios.find(episodeItem => episodeItem.id === id);
                if (episodeFound) {
                    itemToPlay = episodeFound; // É um episódio específico
                } else {
                    // Se o ID é da série, mas não de um episódio específico, reproduz o primeiro episódio
                    if (foundMainItem.episodios.length > 0) {
                        itemToPlay = foundMainItem.episodios[0];
                    } else {
                        console.error("Nenhum episódio encontrado para esta série:", foundMainItem);
                        return;
                    }
                }
            } else {
                // É um filme
                itemToPlay = foundMainItem;
            }
        } else {
            // Se o ID não é de um item principal, tenta encontrar um episódio dentro do item detalhado atual
            if (currentDetailedItem && currentDetailedItem.isSerie && currentDetailedItem.episodios) {
                const episodeFromDetailed = currentDetailedItem.episodios.find(episodeItem => episodeItem.id === id);
                if (episodeFromDetailed) {
                    itemToPlay = episodeFromDetailed;
                }
            }
        }

        if (!itemToPlay || !itemToPlay.video) {
            console.error("Filme/Série/Episódio não encontrado ou URL de vídeo faltando para o ID:", id, itemToPlay);
            return;
        }
        
        // Garante que o título seja uma string, mesmo se for undefined
        const videoTitle = itemToPlay.titulo || '';

        playerContentArea.innerHTML = `
            <iframe src="${itemToPlay.video}" allow="autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" referrerpolicy="no-referrer-when-downgrade" allowfullscreen loading="lazy" class="w-full h-full rounded-xl" title="Player de ${videoTitle}" allow="autoplay"></iframe>
        `;
        playerOverlay.classList.add('active');
        detailsOverlay.classList.remove('active');
        episodiosOverlay.classList.remove('active');
        // Removido sitePrincipal.style.overflowY = 'hidden';
    }

    function closePlayerOverlay() {
        playerOverlay.classList.remove('active');
        const iframe = playerContentArea.querySelector('iframe');
        if (iframe) iframe.src = "";

        if (currentDetailedItem && currentDetailedItem.isSerie) {
            episodiosOverlay.classList.add('active');
        } else {
            detailsOverlay.classList.add('active');
        }
    }

    function scrollEpisodios(dir) {
        episodiosContainerHorizontal.scrollBy({ left: dir * 300, behavior: "smooth" });
    }

    function openEpisodiosOverlay(serieId) {
        const serie = allUniqueContentItems.find(item => item.id === serieId && item.isSerie); // Busca na lista única
        if (!serie || !serie.isSerie || !serie.episodios) {
            console.error("Série ou episódios não encontrados para o ID:", serieId);
            return;
        }

        currentDetailedItem = serie;

        episodiosTitulo.textContent = `Episódios de ${serie.titulo}`;
        episodiosContainerHorizontal.innerHTML = '';

        serie.episodios.forEach(episodio => {
            const episodioDiv = document.createElement('div');
            episodioDiv.className = 'episodio-card';
            episodioDiv.innerHTML = `
                <img src="${episodio.imagem}" alt="${episodio.titulo}" loading="lazy">
                <div class="episodio-info">${episodio.titulo}</div>
            `;
            episodioDiv.setAttribute('data-episodio-id', episodio.id);
            episodioDiv.setAttribute('tabindex', '0');
            episodioDiv.setAttribute('role', 'button');
            episodioDiv.setAttribute('aria-label', `Assistir ${episodio.titulo}`);
            episodioDiv.onclick = () => playEpisode(episodio.id); 
            episodioDiv.onkeydown = (e) => { // Adicionado para acessibilidade do teclado
                if (e.key === "Enter" || e.key === " ") {
                    e.preventDefault();
                    playEpisode(episodio.id);
                }
            };
            episodiosContainerHorizontal.appendChild(episodioDiv);
        });

        detailsOverlay.classList.remove('active');
        episodiosOverlay.classList.add('active');
        // Removido sitePrincipal.style.overflowY = 'hidden';
    }

    function closeEpisodiosOverlay() {
        episodiosOverlay.classList.remove('active');
        // Removido a lógica de overflowY aqui, o body agora gerencia
    }

    function playEpisode(episodioId) {
        openPlayerOverlay(episodioId);
    }

    function toggleFavorito(id) {
        const index = favoritos.indexOf(id);
        if (index > -1) {
            favoritos.splice(index, 1); // Remove dos favoritos
        } else {
            favoritos.push(id); // Adiciona aos favoritos
        }
        salvarFavoritosStorage(); // Salva o estado atualizado no localStorage

        // Re-renderiza TODAS as seções para garantir consistência visual.
        renderAllContentSections(); 

        // Garante que a seção ativa atual permaneça visível
        const currentActiveSectionElement = document.querySelector('.content-section.active');
        if (currentActiveSectionElement) {
            showContentSection(currentActiveSectionElement.id);
        } else {
            showContentSection('home-section'); // Fallback para a home
        }
    }

    function pesquisarFilmes() {
        const searchTerm = document.getElementById('searchInput').value.toLowerCase();
        let searchResultsSection = document.getElementById('search-results-section');

        if (!searchResultsSection) {
            searchResultsSection = document.createElement('div');
            searchResultsSection.id = 'search-results-section';
            searchResultsSection.classList.add('content-section');
            mainSiteContent.appendChild(searchResultsSection);
            // Adiciona o wrapper do carrossel e botões de rolagem
            searchResultsSection.innerHTML = `<h2 style="color: white; font-size: 1.75rem; font-weight: bold; margin-bottom: 1.5625rem; text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.7);">Resultados da Pesquisa para "${searchTerm}"</h2><div class="movie-carousel-wrapper"><button class="scroll-arrow scroll-left" onclick="scrollMovies(this, -1)">〈</button><div class="movie-grid"></div><button class="scroll-arrow scroll-right" onclick="scrollMovies(this, 1)">〉</button></div>`;
        }
        
        const searchGrid = searchResultsSection.querySelector('.movie-grid');
        
        const resultadosFilmes = allUniqueContentItems.filter(item =>
            item.titulo.toLowerCase().includes(searchTerm) ||
            item.genero.toLowerCase().includes(searchTerm) ||
            item.descricao.toLowerCase().includes(searchTerm)
        );

        let content = '';
        if (resultadosFilmes.length > 0) {
            content += resultadosFilmes.map(renderCard).join('');
        }
        if (content === '') {
            content = `<p class="text-gray-400 p-4 text-center w-full">Nenhum título encontrado para a sua pesquisa.</p>`;
        }
        searchGrid.innerHTML = content;
        showContentSection('search-results-section');
    }

    function closeAllOverlays() {
        detailsOverlay.classList.remove('active');
        playerOverlay.classList.remove('active');
        episodiosOverlay.classList.remove('active');
        // Resetar os iframes para parar a reprodução
        const detailIframe = detailsContentArea.querySelector('iframe');
        if(detailIframe) detailIframe.src = "";
        const playerIframe = playerContentArea.querySelector('iframe');
        if(playerIframe) playerIframe.src = "";

        // Removido sitePrincipal.style.overflowY = 'auto';
    }

</script>

</body>
</html>
